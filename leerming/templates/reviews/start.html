{% extends "base.html" %}

{% load l10n %}

{% block body %}
  <div class="absolute top-0 right-0 p-2 m-3 text-xl md:p-3 md:text-4xl dark:text-gray-400">
    <a href="{% url "reviews:index" %}"
       class="inline-flex gap-2 justify-center items-center px-4 text-sm font-semibold text-blue-500 rounded-md border-2 border-gray-200 transition-all dark:border-gray-700 hover:text-white hover:bg-blue-500 hover:border-blue-500 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:outline-none py-[.688rem] dark:hover:border-blue-500">
      {% trans '<< Retour' %}
    </a>
  </div>
  <div class="flex items-center py-16 h-full bg-gray-100 dark:bg-slate-900">
    <main class="p-6 mx-auto w-full max-w-md md:max-w-2xl">
      <div class="flex flex-col p-4 bg-white rounded-xl border shadow-sm md:p-5 dark:bg-gray-800 dark:border-gray-700 dark:shadow-slate-700/[.7]">
        <h3 class="text-2xl font-bold text-gray-800 md:text-4xl dark:text-white">
          {% trans "Révision du" %} - {{ review_date|date:"d/m/Y" }}
        </h3>
        <p class="mt-2 text-gray-800 dark:text-gray-400">
          {% blocktrans %}
                        Par défault toutes les carte prévu pour la séance du jour seront prises en compte, mais vous pouvez limiter les carts aux sujets
                        qui vous interessent en cochant les sujets ci-dessous.
                    {% endblocktrans %}
        </p>
        <form id="review-start-form" hx-post=".">
          {% partialdef form inline=True %}
          {% include "forms/non_field_errors.html" with form=form %}
          {% include "forms/hidden_fields.html" with form=form %}
          <div class="grid gap-2 my-4 sm:grid-cols-2">
            {% for choice in form.topics %}
              <label for="{{ choice.id_for_label }}"
                     class="flex p-3 w-full text-sm bg-white rounded-md border border-gray-200 dark:text-gray-400 dark:border-gray-700 focus:border-blue-500 focus:ring-blue-500 dark:bg-slate-900">
                <input type="checkbox"
                       class="mt-0.5 text-blue-600 rounded border-gray-200 pointer-events-none dark:bg-gray-800 dark:border-gray-700 focus:ring-blue-500 shrink-0 dark:checked:bg-blue-500 dark:checked:border-blue-500 dark:focus:ring-offset-gray-800"
                       name="{{ form.topics.name }}"
                       id="{{ choice.id_for_label }}"
                       {% for value, label in form.fields.topics.choices %} {% if label == choice.choice_label %}value="{{ value }}"{% endif %}
                       {% endfor %}
                       {% if choice.checked %}checked{% endif %} />
                <span class="ml-3 text-sm text-gray-500 dark:text-gray-400">{{ choice.choice_label }}</span>
              </label>
            {% endfor %}
          </div>
        {% endpartialdef %}
      </form>
      <button type="submit"
              form="review-start-form"
              class="inline-flex gap-2 justify-center items-center py-2 px-3 w-full text-sm font-semibold text-white bg-blue-500 rounded-md border border-transparent transition-all cursor-pointer hover:bg-blue-600 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:outline-none dark:focus:ring-offset-gray-800">
        {% heroicon_outline "rocket-launch" width="16" height="16" %}
        {% trans 'Démarrer' %}
      </button>
    </a>
  </div>
</main>
</div>
{% endblock body %}
