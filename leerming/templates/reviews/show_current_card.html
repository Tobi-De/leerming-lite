{% extends "base.html" %}

{% partialdef answer_revealed %}
<div class="flex flex-col bg-white rounded-xl border shadow-sm dark:bg-gray-800 dark:border-gray-700 dark:shadow-slate-700/[.7]">
  <div class="py-3 px-4 bg-gray-100 rounded-t-xl border-b md:py-4 md:px-5 dark:bg-gray-800 dark:border-gray-700">
    <p class="mt-1 text-sm text-gray-500 dark:text-gray-500">{{ flashcard }}</p>
  </div>
  <div class="p-4 text-green-600 md:p-5 dark:text-green-200">
    <p class="text-2xl md:text-4xl">{{ flashcard.answer_display }}</p>
  </div>
  <div hx-target="body"
       hx-swap="innerHTML transition:true"
       class="flex gap-2 py-3 px-4 w-full bg-gray-100 rounded-b-xl border-t md:py-4 md:px-5 dark:bg-gray-800 dark:border-gray-700">
    <button type="button"
            hx-post="{% url 'reviews:answer_card' %}"
            hx-vals='{"answer": false}'
            class="inline-flex gap-2 justify-center items-center py-3 px-4 text-sm font-semibold text-white bg-red-500 rounded-md border border-transparent transition-all hover:bg-red-600 focus:ring-2 focus:ring-red-500 focus:ring-offset-2 focus:outline-none dark:focus:ring-offset-gray-800">
      {% trans 'Non' %}
    </button>
    <button class="inline-flex gap-2 justify-center items-center py-3 px-4 text-sm font-semibold text-gray-500 rounded-md border-2 border-gray-200 dark:text-gray-300 dark:border-gray-700 grow">
      {% trans 'Avez vous eu la bonne r√©ponse ?' %}
    </button>
    <button type="button"
            hx-post="{% url 'reviews:answer_card' %}"
            hx-vals='{"answer": true}'
            class="inline-flex gap-2 justify-center items-center py-3 px-4 text-sm font-semibold text-white bg-green-500 rounded-md border border-transparent transition-all hover:bg-green-600 focus:ring-2 focus:ring-green-500 focus:ring-offset-2 focus:outline-none dark:focus:ring-offset-gray-800">
      {% trans 'Oui' %}
    </button>
  </div>
</div>
{% endpartialdef answer_revealed %}
{% block body %}
  <div class="absolute top-0 right-0 p-2 m-3 text-xl rounded border md:p-3 md:text-4xl dark:text-gray-400">
    {{ step }}
  </div>
  <div class="flex items-center py-16 h-full bg-gray-100 dark:bg-slate-900">
    <main class="p-6 mx-auto w-full max-w-md md:max-w-2xl sample-transition">
      <div id="answer-revealed"
           class="flex flex-col p-4 bg-white rounded-xl border shadow-sm md:p-5 dark:text-gray-400 dark:bg-gray-800 dark:border-gray-700 dark:shadow-slate-700/[.7]">
        <p hx-get="{% url "reviews:reveal_answer" %}"
           hx-target="#answer-revealed"
           hx-swap="outerHTML transition:true"
           class="text-2xl cursor-pointer md:text-4xl">{{ card }}</p>
      </div>
    </main>
  </div>
{% endblock body %}
